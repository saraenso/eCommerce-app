!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire716c;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var c={id:e,exports:{}};return t[e]=c,a.call(c.exports,c,c.exports),c.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequire716c=a);var c=a("hzcNp");let l=(0,c.default)();async function r(){try{let e=await l.getOrders(),t=document.querySelector(".selected-items-cart");t.innerHTML="";let n=0;for(let a of(0===e.length?document.getElementById("cartTitle").textContent="Корзина пуста":document.getElementById("cartTitle").textContent="Проверь корзину",e)){let e=function(e){let t=document.createElement("li");t.className="selected-item-cart";let n=document.createElement("div");n.className="selected-item-cart__img-wrapper";let a=document.createElement("img");a.className="selected-item-cart__img",a.setAttribute("src",e.imageURL),a.setAttribute("alt",e.model),n.appendChild(a),t.appendChild(n);let c=document.createElement("div");c.className="selected-item-cart__desc-wrapper";let l=document.createElement("p");l.className="selected-item-cart__model",l.textContent=e.model,c.appendChild(l);let r=document.createElement("p");r.className="selected-item-cart__series",r.textContent=e.series,c.appendChild(r);let d=document.createElement("p");d.className="selected-item-cart__short-description",d.textContent=e.description.miniDescription,c.appendChild(d);let i=document.createElement("div");i.className="selected-item-cart__price-rating-wrapper";let s=document.createElement("div");s.className="selected-item-cart__price-wrapper";let m=document.createElement("p");m.className="selected-item-cart__price",m.textContent=`${e.currency} ${e.cost}`,s.appendChild(m);let o=document.createElement("p");o.className="x",o.textContent="x",s.appendChild(o);let u=document.createElement("p");u.className="selected-item-cart__quantity",u.textContent=e.quantity,s.appendChild(u),i.appendChild(s);let p=document.createElement("div");p.className="selected-item-cart__quantity-bar";let _=document.createElement("button");_.className="selected-item-cart__quantity-minus",p.appendChild(_);let y=document.createElement("p");y.className="selected-item-cart__quantity-index",y.textContent=e.quantity,p.appendChild(y);let h=document.createElement("button");return h.className="selected-item-cart__quantity-plus",p.appendChild(h),i.appendChild(p),c.appendChild(i),t.appendChild(c),t}(a);t.appendChild(e);let c=a.cost*a.quantity;n+=c}let a=document.querySelector(".selected-items-sum");a.textContent=`Сумма: ${e[0].currency} ${n.toFixed(2)}`;let c=document.querySelector(".selected-items");for(let t of(c.innerHTML="",e)){let e=document.createElement("li");e.className="selected-item";let n=document.createElement("a");n.setAttribute("href",`item.html?id=${t.id}`);let a=document.createElement("img");a.className="selected-item-img",a.setAttribute("src",t.imageURL),a.setAttribute("alt",t.model),n.appendChild(a),e.appendChild(n),c.appendChild(e)}let r=document.querySelectorAll(".selected-item-cart__quantity-minus"),i=document.querySelectorAll(".selected-item-cart__quantity-plus");r.forEach((t,n)=>{t.addEventListener("click",()=>d(e[n].id,"decrease"))}),i.forEach((t,n)=>{t.addEventListener("click",()=>d(e[n].id,"increase"))})}catch(e){console.error("Error rendering selected items in cart:",e)}}async function d(e,t){try{let n=await l.getOrderById(e),a=n.quantity;"increase"===t?a+=1:"decrease"===t&&(a-=1),a<=0?await l.deleteOrder(e):await l.updateOrderQuantity(e,a),await r()}catch(e){console.error("Error updating order quantity:",e)}}document.addEventListener("DOMContentLoaded",async function(){await r()})}();