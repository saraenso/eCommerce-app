!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},c=e.parcelRequire716c;null==c&&((c=function(e){if(e in t)return t[e].exports;if(e in n){var c=n[e];delete n[e];var l={id:e,exports:{}};return t[e]=l,c.call(l.exports,l,l.exports),l.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire716c=c);var l=c("hzcNp");let a=(0,l.default)();async function r(){try{let e=await a.getOrders(),t=document.querySelector(".selected-items-cart");t.innerHTML="";let n=0;for(let c of(0===e.length?document.getElementById("cartTitle").textContent="Корзина пуста":document.getElementById("cartTitle").textContent="Проверь корзину",e)){let e=function(e){let t=document.createElement("li");t.className="selected-item-cart";let n=document.createElement("div");n.className="selected-item-cart__img-wrapper";let c=document.createElement("img");c.className="selected-item-cart__img",c.setAttribute("src",e.imageURL),c.setAttribute("alt",e.model),n.appendChild(c),t.appendChild(n);let l=document.createElement("div");l.className="selected-item-cart__desc-wrapper";let a=document.createElement("p");a.className="selected-item-cart__model",a.textContent=e.model,l.appendChild(a);let r=document.createElement("p");r.className="selected-item-cart__series",r.textContent=e.series,l.appendChild(r);let d=document.createElement("p");d.className="selected-item-cart__short-description",d.textContent=e.description.miniDescription,l.appendChild(d);let i=document.createElement("div");i.className="selected-item-cart__price-rating-wrapper";let m=document.createElement("div");m.className="selected-item-cart__price-wrapper";let s=document.createElement("p");s.className="selected-item-cart__price",s.textContent=`${e.currency} ${e.cost}`,m.appendChild(s);let o=document.createElement("p");o.className="x",o.textContent="x",m.appendChild(o);let u=document.createElement("p");u.className="selected-item-cart__quantity",u.textContent=e.quantity,m.appendChild(u),i.appendChild(m);let p=document.createElement("div");p.className="selected-item-cart__quantity-bar";let _=document.createElement("button");_.className="selected-item-cart__quantity-minus",p.appendChild(_);let h=document.createElement("p");h.className="selected-item-cart__quantity-index",h.textContent=e.quantity,p.appendChild(h);let C=document.createElement("button");return C.className="selected-item-cart__quantity-plus",p.appendChild(C),i.appendChild(p),l.appendChild(i),t.appendChild(l),t}(c);t.appendChild(e);let l=c.cost*c.quantity;n+=l}let c=document.querySelector(".selected-items-sum");c.textContent=`Сумма: ${e[0].currency} ${n.toFixed(2)}`;let l=document.querySelector(".selected-items");for(let t of(l.innerHTML="",e)){let e=document.createElement("li");e.className="selected-item";let n=document.createElement("a");n.setAttribute("href",`item.html?id=${t.id}`);let c=document.createElement("img");c.className="selected-item-img",c.setAttribute("src",t.imageURL),c.setAttribute("alt",t.model),n.appendChild(c),e.appendChild(n),l.appendChild(e)}let r=document.querySelectorAll(".selected-item-cart__quantity-minus"),i=document.querySelectorAll(".selected-item-cart__quantity-plus");r.forEach((t,n)=>{t.addEventListener("click",()=>d(e[n].id,"decrease"))}),i.forEach((t,n)=>{t.addEventListener("click",()=>d(e[n].id,"increase"))})}catch(e){console.error("Error rendering selected items in cart:",e)}}async function d(e,t){try{await a.updateOrderQuantity(e,t),await r()}catch(e){console.error("Error updating order quantity:",e)}}document.addEventListener("DOMContentLoaded",async function(){await r()})}();