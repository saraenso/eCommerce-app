var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},c=e.parcelRequire716c;null==c&&((c=function(e){if(e in t)return t[e].exports;if(e in n){var c=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,c.call(a.exports,a,a.exports),a.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequire716c=c);var a=c("CdASA");const l=(0,a.default)();async function d(){try{let e=await l.getOrders(),t=document.querySelector(".selected-items-cart");t.innerHTML="";let n=0;for(let c of(0===e.length?document.getElementById("cartTitle").textContent="Корзина пуста":document.getElementById("cartTitle").textContent="Проверь корзину",e)){let e=function(e){let t=document.createElement("li");t.className="selected-item-cart";let n=document.createElement("div");n.className="selected-item-cart__img-wrapper";let c=document.createElement("img");c.className="selected-item-cart__img",c.setAttribute("src",e.imageURL),c.setAttribute("alt",e.model),n.appendChild(c),t.appendChild(n);let a=document.createElement("div");a.className="selected-item-cart__desc-wrapper";let l=document.createElement("p");l.className="selected-item-cart__model",l.textContent=e.model,a.appendChild(l);let d=document.createElement("p");d.className="selected-item-cart__series",d.textContent=e.series,a.appendChild(d);let r=document.createElement("p");r.className="selected-item-cart__short-description",r.textContent=e.description.miniDescription,a.appendChild(r);let i=document.createElement("div");i.className="selected-item-cart__price-rating-wrapper";let s=document.createElement("div");s.className="selected-item-cart__price-wrapper";let m=document.createElement("p");m.className="selected-item-cart__price",m.textContent=`${e.currency} ${e.cost}`,s.appendChild(m);let o=document.createElement("p");o.className="x",o.textContent="x",s.appendChild(o);let u=document.createElement("p");u.className="selected-item-cart__quantity",u.textContent=e.quantity,s.appendChild(u),i.appendChild(s);let p=document.createElement("div");p.className="selected-item-cart__quantity-bar";let _=document.createElement("button");_.className="selected-item-cart__quantity-minus",p.appendChild(_);let C=document.createElement("p");C.className="selected-item-cart__quantity-index",C.textContent=e.quantity,p.appendChild(C);let h=document.createElement("button");return h.className="selected-item-cart__quantity-plus",p.appendChild(h),i.appendChild(p),a.appendChild(i),t.appendChild(a),t}(c);t.appendChild(e);let a=c.cost*c.quantity;n+=a}let c=document.querySelector(".selected-items-sum");c.textContent=`Сумма: ${e[0].currency} ${n.toFixed(2)}`;let a=document.querySelector(".selected-items");for(let t of(a.innerHTML="",e)){let e=document.createElement("li");e.className="selected-item";let n=document.createElement("a");n.setAttribute("href",`item.html?id=${t.id}`);let c=document.createElement("img");c.className="selected-item-img",c.setAttribute("src",t.imageURL),c.setAttribute("alt",t.model),n.appendChild(c),e.appendChild(n),a.appendChild(e)}let d=document.querySelectorAll(".selected-item-cart__quantity-minus"),i=document.querySelectorAll(".selected-item-cart__quantity-plus");d.forEach((t,n)=>{t.addEventListener("click",()=>r(e[n].id,"decrease"))}),i.forEach((t,n)=>{t.addEventListener("click",()=>r(e[n].id,"increase"))})}catch(e){console.error("Error rendering selected items in cart:",e)}}async function r(e,t){try{await l.updateOrderQuantity(e,t),await d()}catch(e){console.error("Error updating order quantity:",e)}}document.addEventListener("DOMContentLoaded",async function(){await d()});