var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire716c;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequire716c=r);var a=(r("CdASA"),r("CdASA"));const i=(0,a.default)();async function c(e){try{await i.addToOrders(e),await l()}catch(e){console.error("Error adding item to cart:",e)}}async function l(){try{let e=await i.getOrders(),t=document.querySelector(".selected-items");for(let n of(t.innerHTML="",e)){let e=document.createElement("li");e.className="selected-item";let r=document.createElement("a");r.setAttribute("href",`item.html?id=${n.id}`);let a=document.createElement("img");a.className="selected-item-img",a.setAttribute("src",`${n.imageURL}`),a.setAttribute("alt",`${n.model}`),r.appendChild(a),e.appendChild(r),t.appendChild(e)}}catch(e){console.error("Error rendering orders:",e)}}const o=document.querySelector(".item"),d=document.querySelector(".items-column"),s=(0,a.default)();async function m(){try{let e=new URLSearchParams(window.location.search),t=e.get("id"),n=await s.getItemById(t);if(!n){let e=document.createElement("p");e.className="error",e.textContent="Ошибка. Такого товара нет.",o.appendChild(e);return}let{imageURL:r,model:a,series:i,cost:l,currency:m,description:p}=n,u=document.createElement("li");u.className="item-img-wrapper";let f=document.createElement("img");f.className="item-img",f.setAttribute("src",r),f.setAttribute("alt",a),u.appendChild(f);let h=document.createElement("li");h.className="item-desc";let C=document.createElement("p");C.className="item-model",C.textContent=a,h.appendChild(C);let E=document.createElement("p");E.className="item-series",E.textContent=i,h.appendChild(E);let g=document.createElement("p");g.className="item-price",l&&m?g.textContent=`${m} ${l}`:g.textContent="Price information missing",h.appendChild(g);let y=document.createElement("p");y.className="item-short-description",y.textContent=p.shortDescription,h.appendChild(y),o.appendChild(u),o.appendChild(h);let w=document.createElement("div");w.className="item-add-to-cart-btn-wrapper";let N=document.createElement("button");N.className="item-add-to-cart-btn",N.addEventListener("click",async function(){c(n),console.log("Товар добавлен в корзину!")}),w.appendChild(N),h.appendChild(w);let b=document.createElement("p");b.className="item-desс-title",b.textContent="Описание",d.insertAdjacentElement("beforeend",b);let x=document.createElement("p");x.className="item-long-description",x.textContent=p.longDescription,d.insertAdjacentElement("beforeend",x)}catch(e){console.error("Error rendering selected item:",e)}}document.addEventListener("DOMContentLoaded",async function(){await m(),await l()});